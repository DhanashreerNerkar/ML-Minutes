<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gini Impurity vs Entropy Explained</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.7;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.1em;
        }
        h2 {
            color: #764ba2;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        h3 {
            color: #34495e;
            margin: 20px 0 15px 0;
        }
        .intro-box {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .concept-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }
        .formula-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        .metric-card {
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        .metric-card:hover {
            transform: translateY(-5px);
        }
        .gini-card {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        .entropy-card {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        .example-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }
        .fruit-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
        }
        .fruit {
            font-size: 2.5em;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .calculation-step {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 3px solid #667eea;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        .chart-container {
            width: 100%;
            max-width: 600px;
            margin: 30px auto;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .interactive-demo {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .slider-container {
            margin: 20px 0;
        }
        .slider {
            width: 100%;
            height: 40px;
            -webkit-appearance: none;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            outline: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        .info-box {
            background: #e8f4f8;
            border-left: 5px solid #3498db;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #f39c12;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .success-box {
            background: #d4edda;
            border-left: 5px solid #27ae60;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .comparison-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            text-align: left;
        }
        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
            background: white;
        }
        .comparison-table tr:hover td {
            background: #f8f9fa;
        }
        .highlight {
            background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%);
            padding: 3px 8px;
            border-radius: 5px;
            font-weight: bold;
        }
        .node-visualization {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 30px 0;
        }
        .node {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 150px;
        }
        .pure-node {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            color: white;
        }
        .impure-node {
            background: linear-gradient(135deg, #eb3349, #f45c43);
            color: white;
        }
        .mixed-node {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
        }
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            line-height: 1.5;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            border-bottom: 2px solid #ecf0f1;
        }
        .tab {
            padding: 12px 24px;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s;
            font-size: 16px;
        }
        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .tab-content {
            display: none;
            padding: 20px 0;
        }
        .tab-content.active {
            display: block;
        }
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            text-align: center;
            margin: 10px 0;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .animate-pulse {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üå≤ Gini Impurity vs Entropy</h1>
        <p class="subtitle">Understanding How Decision Trees Measure "Purity" of Splits</p>

        <div class="intro-box">
            <h2 style="color: #e67e22; border: none;">üçé The Fruit Sorting Analogy</h2>
            <p>Imagine you're a quality control inspector at a fruit factory. Your job is to separate apples from bananas into different boxes.</p>
            <ul style="margin: 15px 0;">
                <li><strong>Perfect box (Pure):</strong> All apples or all bananas - Easy to label!</li>
                <li><strong>Mixed box (Impure):</strong> Some apples, some bananas - Hard to label!</li>
                <li><strong>Goal:</strong> Create boxes that are as "pure" as possible</li>
            </ul>
            <p style="margin-top: 15px;">Both <strong>Gini Impurity</strong> and <strong>Entropy</strong> measure how "mixed" or "impure" a box is - they just use different math!</p>
        </div>

        <h2>üéØ Core Concepts</h2>
        <div class="comparison-grid">
            <div class="metric-card gini-card">
                <h3>üìä Gini Impurity</h3>
                <p><strong>What it measures:</strong> Probability of misclassifying a randomly chosen element</p>
                <p style="margin-top: 10px;"><strong>Intuition:</strong> "If I randomly pick an item and randomly assign a label, how often would I be wrong?"</p>
                <div class="formula-box">
                    Gini = 1 - Œ£(p·µ¢)¬≤
                </div>
                <ul style="margin-top: 15px;">
                    <li>Range: 0 to 0.5 (binary)</li>
                    <li>0 = Pure (all same class)</li>
                    <li>0.5 = Maximum impurity (50-50 split)</li>
                </ul>
            </div>
            
            <div class="metric-card entropy-card">
                <h3>üé≤ Entropy</h3>
                <p><strong>What it measures:</strong> Randomness or disorder in the data</p>
                <p style="margin-top: 10px;"><strong>Intuition:</strong> "How surprised would I be by a random pick?"</p>
                <div class="formula-box">
                    Entropy = -Œ£(p·µ¢ √ó log‚ÇÇ(p·µ¢))
                </div>
                <ul style="margin-top: 15px;">
                    <li>Range: 0 to log‚ÇÇ(n) classes</li>
                    <li>0 = Pure (no surprise)</li>
                    <li>1 = Maximum entropy for binary</li>
                </ul>
            </div>
        </div>

        <h2>üçéüçå Step-by-Step Example</h2>
        <div class="example-box">
            <h3>Dataset: 10 Fruits (7 Apples, 3 Bananas)</h3>
            
            <div class="fruit-container">
                <span class="fruit">üçé</span>
                <span class="fruit">üçé</span>
                <span class="fruit">üçé</span>
                <span class="fruit">üçé</span>
                <span class="fruit">üçé</span>
                <span class="fruit">üçé</span>
                <span class="fruit">üçé</span>
                <span class="fruit">üçå</span>
                <span class="fruit">üçå</span>
                <span class="fruit">üçå</span>
            </div>
            
            <div class="tabs">
                <button class="tab active" onclick="showTab('gini-calc')">Gini Calculation</button>
                <button class="tab" onclick="showTab('entropy-calc')">Entropy Calculation</button>
                <button class="tab" onclick="showTab('comparison')">Compare Results</button>
            </div>
            
            <div id="gini-calc" class="tab-content active">
                <h4>Calculating Gini Impurity</h4>
                <div class="calculation-step">
                    <strong>Step 1: Calculate probabilities</strong><br>
                    P(Apple) = 7/10 = 0.7<br>
                    P(Banana) = 3/10 = 0.3
                </div>
                <div class="calculation-step">
                    <strong>Step 2: Square each probability</strong><br>
                    P(Apple)¬≤ = 0.7¬≤ = 0.49<br>
                    P(Banana)¬≤ = 0.3¬≤ = 0.09
                </div>
                <div class="calculation-step">
                    <strong>Step 3: Apply Gini formula</strong><br>
                    Gini = 1 - (0.49 + 0.09)<br>
                    Gini = 1 - 0.58 = <span class="highlight">0.42</span>
                </div>
                <div class="metric-value animate-pulse">Gini = 0.42</div>
            </div>
            
            <div id="entropy-calc" class="tab-content">
                <h4>Calculating Entropy</h4>
                <div class="calculation-step">
                    <strong>Step 1: Calculate probabilities</strong><br>
                    P(Apple) = 0.7, P(Banana) = 0.3
                </div>
                <div class="calculation-step">
                    <strong>Step 2: Calculate log‚ÇÇ of probabilities</strong><br>
                    log‚ÇÇ(0.7) ‚âà -0.515<br>
                    log‚ÇÇ(0.3) ‚âà -1.737
                </div>
                <div class="calculation-step">
                    <strong>Step 3: Apply entropy formula</strong><br>
                    Entropy = -(0.7 √ó -0.515 + 0.3 √ó -1.737)<br>
                    Entropy = -(-0.361 - 0.521)<br>
                    Entropy = <span class="highlight">0.882</span>
                </div>
                <div class="metric-value animate-pulse">Entropy = 0.882</div>
            </div>
            
            <div id="comparison" class="tab-content">
                <h4>Comparing Results</h4>
                <div class="node-visualization">
                    <div class="node mixed-node">
                        <h4>Original Node</h4>
                        <p>7 üçé 3 üçå</p>
                        <p><strong>Gini:</strong> 0.42</p>
                        <p><strong>Entropy:</strong> 0.882</p>
                    </div>
                </div>
                <div class="info-box">
                    <p><strong>Key Insight:</strong> Both metrics show this node is impure (not 0), but give different values.</p>
                    <ul style="margin-top: 10px;">
                        <li>Gini ranges from 0 to 0.5, current: 0.42 (84% of max)</li>
                        <li>Entropy ranges from 0 to 1, current: 0.882 (88% of max)</li>
                        <li>Both indicate significant impurity!</li>
                    </ul>
                </div>
            </div>
        </div>

        <h2>üéÆ Interactive Demo: See How Impurity Changes</h2>
        <div class="interactive-demo">
            <h3>Adjust the Class Distribution</h3>
            <div class="slider-container">
                <label>Class A Percentage: <span id="classPercentage">50</span>%</label>
                <input type="range" class="slider" id="distributionSlider" min="0" max="100" value="50">
            </div>
            
            <div class="node-visualization">
                <div class="node" id="demoNode">
                    <h4>Current Distribution</h4>
                    <p id="distribution">50% A, 50% B</p>
                    <p><strong>Gini:</strong> <span id="giniValue">0.500</span></p>
                    <p><strong>Entropy:</strong> <span id="entropyValue">1.000</span></p>
                </div>
            </div>
            
            <button onclick="showSpecialCases()">Show Special Cases</button>
            <div id="specialCases"></div>
        </div>

        <div class="chart-container">
            <canvas id="comparisonChart"></canvas>
        </div>

        <h2>üìä Key Differences Table</h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>Gini Impurity</th>
                    <th>Entropy</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Concept</strong></td>
                    <td>Probability of incorrect classification</td>
                    <td>Information randomness/surprise</td>
                </tr>
                <tr>
                    <td><strong>Formula</strong></td>
                    <td>1 - Œ£(p·µ¢)¬≤</td>
                    <td>-Œ£(p·µ¢ √ó log‚ÇÇ(p·µ¢))</td>
                </tr>
                <tr>
                    <td><strong>Range (Binary)</strong></td>
                    <td>0 to 0.5</td>
                    <td>0 to 1</td>
                </tr>
                <tr>
                    <td><strong>Computation Speed</strong></td>
                    <td>‚ö° Faster (no logarithms)</td>
                    <td>üê¢ Slower (logarithms)</td>
                </tr>
                <tr>
                    <td><strong>Tree Tendency</strong></td>
                    <td>Isolates frequent class</td>
                    <td>Creates balanced trees</td>
                </tr>
                <tr>
                    <td><strong>When Pure (100% one class)</strong></td>
                    <td>0</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td><strong>When Maximum Impure (50-50)</strong></td>
                    <td>0.5</td>
                    <td>1.0</td>
                </tr>
            </tbody>
        </table>

        <h2>üöÄ When to Use Which?</h2>
        <div class="comparison-grid">
            <div class="concept-card">
                <h3>Use Gini When:</h3>
                <ul>
                    <li>Speed is important (real-time systems)</li>
                    <li>Working with large datasets</li>
                    <li>Default choice for CART algorithm</li>
                    <li>You want slightly faster training</li>
                    <li>Using scikit-learn (default)</li>
                </ul>
                <div class="success-box">
                    <strong>Real Example:</strong> Credit card fraud detection where you need quick decisions
                </div>
            </div>
            
            <div class="concept-card">
                <h3>Use Entropy When:</h3>
                <ul>
                    <li>You want more balanced trees</li>
                    <li>Information theory context</li>
                    <li>Using ID3 or C4.5 algorithms</li>
                    <li>Slightly better for multi-class problems</li>
                    <li>Academic/research settings</li>
                </ul>
                <div class="success-box">
                    <strong>Real Example:</strong> Medical diagnosis with multiple disease categories
                </div>
            </div>
        </div>

        <h2>üíª Python Implementation</h2>
        <div class="code-block">
import numpy as np
from sklearn.tree import DecisionTreeClassifier
import matplotlib.pyplot as plt

# Calculate Gini Impurity
def gini_impurity(y):
    """Calculate Gini impurity for a node"""
    proportions = np.bincount(y) / len(y)
    return 1 - np.sum(proportions ** 2)

# Calculate Entropy
def entropy(y):
    """Calculate entropy for a node"""
    proportions = np.bincount(y) / len(y)
    # Remove zeros to avoid log(0)
    proportions = proportions[proportions > 0]
    return -np.sum(proportions * np.log2(proportions))

# Example dataset: 7 apples (0), 3 bananas (1)
fruits = np.array([0, 0, 0, 0, 0, 0, 0, 1, 1, 1])

print(f"Gini Impurity: {gini_impurity(fruits):.3f}")
print(f"Entropy: {entropy(fruits):.3f}")

# Compare decision trees with different criteria
X = np.random.randn(100, 2)
y = (X[:, 0] + X[:, 1] > 0).astype(int)

# Train with Gini
tree_gini = DecisionTreeClassifier(criterion='gini', max_depth=3)
tree_gini.fit(X, y)

# Train with Entropy
tree_entropy = DecisionTreeClassifier(criterion='entropy', max_depth=3)
tree_entropy.fit(X, y)

print(f"\nGini tree depth: {tree_gini.get_depth()}")
print(f"Entropy tree depth: {tree_entropy.get_depth()}")

# Visualize how Gini and Entropy change with probability
probs = np.linspace(0.001, 0.999, 100)
gini_values = 2 * probs * (1 - probs)
entropy_values = -probs * np.log2(probs) - (1-probs) * np.log2(1-probs)

plt.figure(figsize=(10, 6))
plt.plot(probs, gini_values, label='Gini Impurity', linewidth=2)
plt.plot(probs, entropy_values, label='Entropy', linewidth=2)
plt.xlabel('Probability of Class 1')
plt.ylabel('Impurity Measure')
plt.title('Gini vs Entropy for Binary Classification')
plt.legend()
plt.grid(True, alpha=0.3)
plt.show()
        </div>

        <h2>üéØ Visual Examples of Node Purity</h2>
        <div class="node-visualization">
            <div class="node pure-node">
                <h4>Pure Node</h4>
                <p>100% Apples</p>
                <p>üçéüçéüçéüçéüçé</p>
                <p><strong>Gini:</strong> 0.000</p>
                <p><strong>Entropy:</strong> 0.000</p>
            </div>
            
            <div class="node mixed-node">
                <h4>Maximum Impurity</h4>
                <p>50% Each</p>
                <p>üçéüçéüçåüçå</p>
                <p><strong>Gini:</strong> 0.500</p>
                <p><strong>Entropy:</strong> 1.000</p>
            </div>
            
            <div class="node impure-node">
                <h4>Slightly Impure</h4>
                <p>90% Apples</p>
                <p>üçéüçéüçéüçéüçå</p>
                <p><strong>Gini:</strong> 0.180</p>
                <p><strong>Entropy:</strong> 0.469</p>
            </div>
        </div>

        <h2>üèÜ Real-World Impact</h2>
        <div class="info-box">
            <h3>In Practice, The Difference is Small</h3>
            <p>Studies show that Gini and Entropy produce very similar trees in most cases:</p>
            <ul style="margin-top: 15px;">
                <li><strong>Performance difference:</strong> Usually < 2% in accuracy</li>
                <li><strong>Tree structure:</strong> Often identical or very similar</li>
                <li><strong>Training time:</strong> Gini is ~5-10% faster due to no logarithms</li>
                <li><strong>Default choice:</strong> Most libraries use Gini (scikit-learn, CART)</li>
            </ul>
        </div>

        <div class="warning-box">
            <h3>‚ö†Ô∏è Common Misconceptions</h3>
            <ul>
                <li>‚ùå "Entropy is always better" - Not true, they're usually equivalent</li>
                <li>‚ùå "Gini can't handle multi-class" - It can, just extends the formula</li>
                <li>‚ùå "The values are comparable" - No, they use different scales</li>
                <li>‚úÖ Both measure the same thing: node impurity, just differently</li>
            </ul>
        </div>

        <h2>üí° Key Takeaways</h2>
        <div class="success-box">
            <h3>Remember This:</h3>
            <ol>
                <li><strong>Both measure impurity:</strong> How "mixed" the classes are in a node</li>
                <li><strong>Goal is the same:</strong> Find splits that create purer child nodes</li>
                <li><strong>Gini is faster:</strong> No logarithms needed (squaring vs logs)</li>
                <li><strong>Results are similar:</strong> Usually produce nearly identical trees</li>
                <li><strong>When in doubt:</strong> Use Gini (it's the default for good reason)</li>
                <li><strong>The real key:</strong> Focus on good features and data quality, not the impurity measure</li>
            </ol>
        </div>
    </div>

    <script>
        // Initialize comparison chart
        const ctx = document.getElementById('comparisonChart').getContext('2d');
        
        // Generate data points
        const probabilities = [];
        const giniValues = [];
        const entropyValues = [];
        
        for (let p = 0; p <= 1; p += 0.01) {
            probabilities.push(p);
            
            // Gini calculation
            const gini = 2 * p * (1 - p);
            giniValues.push(gini);
            
            // Entropy calculation (handle edge cases)
            let entropy = 0;
            if (p > 0 && p < 1) {
                entropy = -p * Math.log2(p) - (1-p) * Math.log2(1-p);
            }
            entropyValues.push(entropy);
        }
        
        const comparisonChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: probabilities.map(p => p.toFixed(2)),
                datasets: [
                    {
                        label: 'Gini Impurity',
                        data: giniValues,
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        tension: 0.4,
                        pointRadius: 0,
                        borderWidth: 3
                    },
                    {
                        label: 'Entropy',
                        data: entropyValues,
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        tension: 0.4,
                        pointRadius: 0,
                        borderWidth: 3
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Gini vs Entropy: How They Change with Class Probability',
                        font: { size: 16 }
                    },
                    legend: {
                        position: 'bottom'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(3);
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Probability of Class A'
                        },
                        ticks: {
                            callback: function(value, index) {
                                return index % 10 === 0 ? probabilities[index].toFixed(1) : '';
                            }
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Impurity Measure'
                        },
                        min: 0,
                        max: 1
                    }
                }
            }
        });

        // Interactive demo
        const slider = document.getElementById('distributionSlider');
        const percentageDisplay = document.getElementById('classPercentage');
        const distributionDisplay = document.getElementById('distribution');
        const giniDisplay = document.getElementById('giniValue');
        const entropyDisplay = document.getElementById('entropyValue');
        const demoNode = document.getElementById('demoNode');

        slider.addEventListener('input', function() {
            const pA = this.value / 100;
            const pB = 1 - pA;
            
            percentageDisplay.textContent = this.value;
            distributionDisplay.textContent = `${this.value}% A, ${(100 - this.value)}% B`;
            
            // Calculate Gini
            const gini = 1 - (pA * pA + pB * pB);
            giniDisplay.textContent = gini.toFixed(3);
            
            // Calculate Entropy
            let entropy = 0;
            if (pA > 0 && pA < 1) {
                entropy = -pA * Math.log2(pA) - pB * Math.log2(pB);
            }
            entropyDisplay.textContent = entropy.toFixed(3);
            
            // Update node color based on impurity
            if (gini < 0.1) {
                demoNode.className = 'node pure-node';
            } else if (gini > 0.4) {
                demoNode.className = 'node mixed-node';
            } else {
                demoNode.className = 'node impure-node';
            }
        });

        // Tab functionality
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            const buttons = document.querySelectorAll('.tab');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Show special cases
        function showSpecialCases() {
            const cases = document.getElementById('specialCases');
            cases.innerHTML = `
                <div class="info-box" style="margin-top: 20px;">
                    <h4>Special Cases to Try:</h4>
                    <ul>
                        <li><strong>0% or 100%:</strong> Pure node (both = 0)</li>
                        <li><strong>50%:</strong> Maximum impurity (Gini = 0.5, Entropy = 1.0)</li>
                        <li><strong>70%:</strong> Our fruit example (Gini = 0.42, Entropy = 0.88)</li>
                        <li><strong>90%:</strong> Slightly impure (Gini = 0.18, Entropy = 0.47)</li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>Notice:</strong> Entropy curve is more "curved" while Gini is more linear!</p>
                </div>
            `;
        }
    </script>
</body>
</html>
